<!DOCTYPE html>
<html lang="en">
    <head>
        <title>802view</title>
        <%- include("partials/includes") %>
        <link rel="stylesheet" href="/static/css/bootstrap-select.min.css">
        <script type="text/javascript" src="/static/js/external/bootstrap-select.min.js"></script>
    </head>

    <body>
        <%- include("partials/nav") %>
        <div id="stats">
            <div class="container">
                <div class="row">
                    <div class="form-group col-3 mt-4">
                        <select class="form-control" v-model="selectedNode" v-on:change="updateStats">
                            <option value="all">All nodes</option>
                            <option v-for="node in nodes" v-bind:value="node.id">{{node.label}}</option>
                        </select>
                    </div>
                </div>

                <div class="row mt-2">
                    <div class="col-3">
                        <p class="text-muted m-0">Currently</p>
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-3">
                        <div class="card">
                            <div class="card-body">
                                <h2 class="text-primary">{{stats.active_devices}}</h2>
                                <p class="text-muted">Devices</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="card">
                            <div class="card-body">
                                <h2 class="text-primary">{{stats.active_aps}}</h2>
                                <p class="text-muted">Access points</p>
                            </div>
                        </div>
                    </div>
                
                    <div class="col-3">
                        <div class="card">
                            <div class="card-body">
                                <h2 class="text-primary">{{stats.active_connections}}</h2>
                                <p class="text-muted">Connections</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mt-4">
                    <div class="col-3">
                        <p class="text-muted m-0">All time</p>
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-3">
                        <div class="card">
                            <div class="card-body">
                                <h2>{{stats.devices}}</h2>
                                <p class="text-muted">Devices</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="card">
                            <div class="card-body">
                                <h2>{{stats.aps}}</h2>
                                <p class="text-muted">Access points</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="card">
                            <div class="card-body">
                                <h2>{{stats.sessions}}</h2>
                                <p class="text-muted">Sessions</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="card">
                            <div class="card-body">
                                <h2>{{stats.connections}}</h2>
                                <p class="text-muted">Connections</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mt-4">
                    <div class="col-6">
                        <p class="text-muted">Number of devices</p>
                    </div>
                    <div class="col-6">
                        <p class="text-muted">An average week</p>
                    </div>
                </div>

                <div class="row mt-2">
                    <div class="col-6">
                        <div id="device-time-graph">
                        </div>
                    </div>

                    <div class="col-6">
                        <div id="busy-map-graph">
                        </div>
                    </div>
                </div>
            </div>



        </div>

        <script type="text/javascript" src="/static/js/app/stats.js"></script>
        <script type="text/javascript" src="/static/js/external/chart.bundle.min.js"></script>
        <link rel="stylesheet" type="text/css" href="/static/css/chart.min.css">

        <script type="text/javascript" src="/static/js/external/apexcharts.min.js"></script>
        <link rel="stylesheet" type="text/css" href="/static/css/apexcharts.css">
    </body>
</html> 